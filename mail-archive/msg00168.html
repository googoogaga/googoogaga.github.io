<!-- MHonArc v2.5.2 -->
<!--X-Subject: Re: call/cc? -->
<!--X-From-R13: Xbanguna Pnpuenpu <weoNnv.zvg.rqh> -->
<!--X-Date: Sat, 7 Sep 2002 16:41:45 &#45;0400 (EDT) -->
<!--X-Message-Id: uo865xhwmoz.fsf@djundjun.ai.mit.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.LNX.4.30.0209031134490.1665&#45;100000@cable.beta4.com -->
<!--X-Reference: 15737.20232.671578.374817@h00045a4799d6.ne.client2.attbi.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: call/cc?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00167.html">Date Prev</a>][<a href="msg00169.html">Date Next</a>][<a href="msg00167.html">Thread Prev</a>][<a href="msg00169.html">Thread Next</a>][<a href="index.html#00168">Date Index</a>][<a href="threads.html#00168">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: call/cc?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Neel Krishnaswami &lt;<A HREF="mailto:neelk@DOMAIN.HIDDEN">neelk@xxxxxxxxxxxx</A>&gt;</li>
<li><em>Subject</em>: Re: call/cc?</li>
<li><em>From</em>: Jonathan Bachrach &lt;<A HREF="mailto:jrb@DOMAIN.HIDDEN">jrb@xxxxxxxxxx</A>&gt;</li>
<li><em>Date</em>: 07 Sep 2002 16:48:28 -0400</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Neel Krishnaswami &lt;neelk@alum.mit.edu&gt; writes:

&gt; Avi Bryant writes:
&gt; &gt;
&gt; &gt; A while ago there was some brief discussion about the desire to add
&gt; &gt; call/cc to goo.  The impression I get from, for example, the
&gt; &gt; pthreads-based threading, is that goo is getting increasingly tied
&gt; &gt; to the C stack, which would make full continuations pretty
&gt; &gt; unrealistic.  Does anyone else still have any interest in them?
&gt; 
&gt; Well, one could always use a Henry Baker &quot;Cheney on the MTA&quot; style
&gt; compiler/allocator and keep both pthreads and call/cc.
&gt; 
&gt; <A  HREF="http://zurich.ai.mit.edu/pipermail/info-cscheme/1994-February/000161.html">http://zurich.ai.mit.edu/pipermail/info-cscheme/1994-February/000161.html</A>
&gt; 
&gt; I think that in some sense this may be the right thing to do (modulo
&gt; the caveats that come from the fact that I'm not the one implementing
&gt; it).

it's definitely a cool hack but i'd like to point out that i feel like
this is much harder to implement and its performance is more suspect
than it might appear after first reading that paper.

baker states that it allows free C interoperability but as far as i
can tell it doesn't allow callbacks because then it would require the
gc to know the stack format and produce a new stack for those pending
c calls and to perform the necessary patch ups.  i don't know how to
do this.  what am i missing?  

the other thing it requires is a precise gc.  this is particularly
difficult when state gets put into machine registers.  one could force
local state into stack frames but this would slow things down.  the
nice thing about a conventional c back end implementation is the
convenience of the boehm garbage collector.

furthermore, there is an overhead imposed in the normal c calling
convention that makes it less efficient (in space and speed) than
usual tail calling conventions.

some of these points are made in a very interesting thesis:

  tail recursion in c by mark probst

available from 

  <A  HREF="http://www.complang.tuwien.ac.at/~schani/diplarb.ps">http://www.complang.tuwien.ac.at/~schani/diplarb.ps</A>

there appears to be a scheme implementation called chicken which uses
this approach.

-- jonathan

&gt; Continuations are more or less the abstract type of a first-class
&gt; stack, and a thread is the abstract type of a first-class processor.
&gt; Letting the OS provide concurrency seems like the right thing to me,
&gt; and confusing the two is, well, confusing.


</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00164" href="msg00164.html">call/cc?</a></strong>
<ul><li><em>From:</em> Avi Bryant</li></ul></li>
<li><strong><a name="00167" href="msg00167.html">call/cc?</a></strong>
<ul><li><em>From:</em> Neel Krishnaswami</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00167.html">call/cc?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00169.html">wiki down</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00167.html">call/cc?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00169.html">wiki down</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="index.html#00168"><strong>Date</strong></a></li>
<li><a href="threads.html#00168"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
